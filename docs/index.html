<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/x-icon" href="./favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CurseForge Mods Manager</title>
  <script type="module" crossorigin>const b={VITE_CURSEFORGE_API_KEY:"$2a$10$luW8WuhloEV39vXf1VsDluOUVbH2.TtvsFv71LKQI5xGmuzWCZ5tu"},{VITE_CURSEFORGE_API_KEY:g}=b;async function A(e){const o=`https://api.curseforge.com/v1/mods/${e}`;return await(await fetch(o,{headers:{Accept:"application/json","x-api-key":g}})).json()}const _={VITE_CURSEFORGE_API_KEY:"$2a$10$luW8WuhloEV39vXf1VsDluOUVbH2.TtvsFv71LKQI5xGmuzWCZ5tu"},{VITE_CURSEFORGE_API_KEY:N}=_;async function k(e,o,c,s){const r=I(c),a=`https://api.curseforge.com/v1/mods/${e}/files?gameVersion=${o}&modLoaderType=${r}`,l=await fetch(a,{headers:{Accept:"application/json","x-api-key":N}}),{data:n}=await l.json();return n.filter(t=>t.releaseType<=s)}function I(e){switch(e){case"cauldron":return 2;case"forge":return 1;case"fabric":return 4;case"quilt":return 5;case"neoforge":return 6;case"liteloader":return 3;default:throw new Error(e)}}var E=(e=>(e.BUKKIT="bukkit",e.BUNGEECORD="bungeecord",e.CAULDRON="cauldron",e.DATAPACK="datapack",e.FABRIC="fabric",e.FOLIA="folia",e.FORGE="forge",e.LITELOADER="liteloader",e.MODLOADER="modloader",e.NEOFORGE="neoforge",e.PAPER="paper",e.PURPUR="purpur",e.QUILT="quilt",e.RIFT="rift",e.SPIGOT="spigot",e.SPONGE="sponge",e.VELOCITY="velocity",e.WATERFALL="waterfall",e))(E||{}),v=(e=>(e[e.RELEASE=1]="RELEASE",e[e.BETA=2]="BETA",e[e.ALPHA=3]="ALPHA",e))(v||{});function f(e){let o=e;const c=new Set;function s(r){return c.add(r),r(o),()=>c.delete(r)}return{subscribe:s,set value(r){o=r;for(const a of c)a(o)},get value(){return o}}}const m=f(0),w=f(E.FABRIC),h=f("1.20.1");async function R(e){var c;return(c=(await k(e,h.value,w.value,v.RELEASE))[0])==null?void 0:c.downloadUrl}async function C(e){return new Promise((o,c)=>{if(e.length===0){alert("No mods to download"),o();return}Promise.all(e.map(async s=>{try{return await R(s)}catch(r){console.error(`Failed to get download URL for mod ${s}:`,r);return}})).then(s=>{const r=s.filter(a=>a!==void 0);if(r.length===0){alert("No valid download URLs found"),o();return}for(const a of r)window.open(a,"_blank");o()}).catch(s=>{console.error("Failed to download mods:",s),alert("Failed to download mods. Check console for details."),c(s)})})}function F({details:{data:e}}){const o=()=>{const n=document.createElement("a"),t=document.createElement("img");return n.href=e.links.websiteUrl,n.target="_blank",n.className="mod-logo-link",t.src=e.logo.thumbnailUrl,t.className="mod-logo",n.appendChild(t),n},c=()=>{const n=document.createElement("a");return n.href=e.links.websiteUrl,n.textContent=e.name,n.target="_blank",n.className="mod-name",n},s=()=>{const n=document.createElement("div"),t=e.latestFiles.find(d=>d.gameVersions.includes("1.20.1")&&d.gameVersions.includes("Fabric"));return n.textContent=`Latest Version: ${(t==null?void 0:t.fileName)||"N/A"}`,n.className="mod-version",n},r=()=>{const n=document.createElement("div"),t=new Date(e.dateModified).toLocaleDateString();return n.textContent=`Last Updated: ${t}`,n.className="mod-update",n},a=()=>{const n=document.createElement("button");return n.className="mod-download",n.innerHTML=`
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 3V16M12 16L7 11M12 16L17 11" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                <path d="M3 20H21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
        `,n.onclick=async()=>{try{await C([e.id])}catch(t){console.error("Failed to download mod:",t)}},n},l=document.createElement("div");return l.className="mod-container",l.append(o(),c(),s(),r(),a()),l}function U({onSubmit:e}){const o=()=>{const t=document.createElement("div");return t.className="search-container",t},c=()=>{const t=document.createElement("input");return t.type="number",t.placeholder="Enter mod ID",t.className="mod-input",t},s=()=>{const t=document.createElement("button");return t.textContent="Add Mod",t.className="add-button",t},r=c(),a=s(),l=o(),n=()=>{const t=Number.parseInt(r.value);t&&(e(t),r.value="")};return r.addEventListener("keypress",t=>{t.key==="Enter"&&n()}),a.onclick=n,l.appendChild(r),l.appendChild(a),l}function D({children:e}){const o=document.createElement("div");return o.className="header-container",o.append(...e),o}function S({count:e}){const o=document.createElement("div");return o.className="mods-count",e.subscribe(c=>{o.textContent=`Mods: ${c}`}),o}function y({onDownloadAll:e,onClearAll:o}){const c=()=>{const t=document.createElement("button");return t.textContent="Download All",t.className="action-button download",t.onclick=async()=>{await e(u=>{t.disabled=u,t.textContent=u?"Downloading...":"Download All"})},t},s=()=>{const t=document.createElement("button");return t.textContent="Clear All",t.className="action-button clear",t.onclick=o,t},r=(t,d)=>{m.subscribe(u=>{t.disabled=u===0,d.disabled=u===0})},a=document.createElement("div");a.className="action-buttons";const l=c(),n=s();return r(l,n),a.append(l,n),a}function L({loader:e,version:o}){const c=()=>{const a=document.createElement("select");a.className="loader-select";for(const l of Object.values(E)){const n=document.createElement("option");n.value=l,n.textContent=l.charAt(0).toUpperCase()+l.slice(1).toLowerCase(),n.selected=l===e.value,a.appendChild(n)}return a.addEventListener("change",l=>{const n=l.target;e.value=n.value}),a},s=()=>{const a=document.createElement("input");return a.type="text",a.className="version-input",a.value=o.value,a.placeholder="Game Version",a.addEventListener("change",l=>{const n=l.target;o.value=n.value}),a},r=document.createElement("div");return r.className="loader-select-container",r.append(c(),s()),r}const i={renderedMods:new Set,container:document.querySelector("#app")};async function p(e){var s;if(i.renderedMods.has(e))return;i.renderedMods.add(e);const o=await A(e);i.container.appendChild(F({details:o}));const c=((s=o.data.latestFiles[0])==null?void 0:s.dependencies)||[];m.value++,await M(c)}async function M(e){const o=e.map(({modId:c})=>p(c));await Promise.all(o)}async function O(e){e(!0),C(Array.from(i.renderedMods)).then(()=>e(!1))}function V(){i.container.innerHTML="",i.renderedMods.clear(),m.value=0}async function B(){const e=S({count:m}),o=U({onSubmit:p}),c=L({loader:w,version:h}),s=y({onDownloadAll:O,onClearAll:V}),r=D({children:[e,o,c,s]});document.body.insertBefore(r,i.container),p(974356)}B();</script>
  <style rel="stylesheet" crossorigin>.mod-container{background:#1e2127;border-radius:12px;box-shadow:0 4px 6px #0000004d;transition:transform .2s,box-shadow .2s;overflow:hidden}.mod-container:hover{transform:translateY(-5px);box-shadow:0 8px 12px #0006}.mod-container .mod-logo{width:100%;height:200px;object-fit:cover;border-bottom:1px solid #2c313a}.mod-container .mod-name{display:block;padding:.5rem;font-size:1rem;color:#e2e8f0;text-decoration:none;font-weight:600;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mod-container .mod-version,.mod-container .mod-update{padding:.25rem .5rem;color:#a0aec0;font-size:.8rem;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mod-container .mod-logo-link{display:block;cursor:pointer}.mod-container .mod-download{position:absolute;top:1rem;right:1rem;width:2.5rem;height:2.5rem;display:flex;align-items:center;justify-content:center;border:1px solid rgba(44,49,58,.8);background:#282c34cc;color:#e2e8f0;cursor:pointer;transition:color .2s}.mod-container .mod-download:hover{border-color:#60a5facc;background:#282c34cc}.search-container{display:flex;gap:1rem}.search-container .mod-input{padding:.5rem .75rem;border:1px solid rgba(44,49,58,.5);border-radius:6px;background:#282c3480;color:#e2e8f0;font-size:.9rem;width:200px;-webkit-appearance:textfield;appearance:textfield;-moz-appearance:textfield;transition:border-color .2s,box-shadow .2s}.search-container .mod-input:focus{outline:none;border-color:#60a5fa;box-shadow:0 0 0 2px #60a5fa33}.search-container .mod-input::-webkit-outer-spin-button,.search-container .mod-input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.search-container .add-button{padding:.5rem .75rem;background:#1e2127;border:1px solid rgba(44,49,58,.5);border-radius:6px;color:#e2e8f0;font-weight:500;cursor:pointer;transition:all .2s}.search-container .add-button:hover{background:#282c34;border-color:#60a5fa80}.search-container .add-button:active{background:#1a1d23}.header-container{display:flex;gap:1rem;justify-content:space-between;padding:1rem;background:#1e2127cc;backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);position:sticky;top:0;z-index:100;border-bottom:1px solid rgba(44,49,58,.5)}.mods-count{padding:.35rem .75rem;background:#282c3480;border:1px solid rgba(44,49,58,.5);border-radius:6px;color:#e2e8f0;font-size:.9rem;display:flex;align-items:center}.action-buttons{display:flex;gap:.5rem}.action-button{padding:.35rem .75rem;border-radius:6px;font-weight:500;cursor:pointer;transition:all .2s;border:1px solid rgba(44,49,58,.5);background:#282c3480;color:#e2e8f0}.action-button:hover{border-color:#60a5fa80;background:#282c34cc}.action-button.download:hover{color:#4ade80}.action-button.clear:hover{color:#f87171}.action-button:disabled{opacity:.7;cursor:not-allowed}.loader-select-container{display:flex;gap:8px;align-items:center}.loader-select,.version-input{padding:8px;border-radius:4px;border:1px solid #2c313a;background:#1e2127;color:#e2e8f0;font-size:14px}.version-input{width:100px}.loader-select:focus,.version-input:focus{outline:none;border-color:#60a5fa}body{background:#121417;margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;color:#e2e8f0}#app{display:grid;grid-template-columns:repeat(6,1fr);gap:2rem;padding:2rem;max-width:1400px;margin:0 auto}</style>
<link rel="manifest" href="./manifest.webmanifest"><script id="vite-plugin-pwa:register-sw" src="./registerSW.js"></script></head>

<body>
  <div id="app"></div>
</body>

</html>